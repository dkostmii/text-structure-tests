т = "Привіт від Лесі!"

номер_тесту = 1

;; твердження чи тестовий випадок (як зручніше ;)
дія тв(очікується, фактично)
  успішно = фактично рівно очікується

  вивести("%(номер_тесту).")
  якщо (успішно)
    друк("[успішно]")
  інакше
    друк("[тест провалився]")
  кінець

  номер_тесту := номер_тесту + 1

  друк("Очікується: %(очікується)")
  друк("Фактично: %(фактично)")
  друк("")
кінець

дія іт(сценарій Дія)
  спробувати
    сценарій()
  зловити п
    друк("%(номер_тесту). [Зловлено очікувану помилку]: %(п)")
    друк("%(номер_тесту). [успішно]")
    номер_тесту := номер_тесту + 1
    вернути
  кінець

  друк("%(номер_тесту). [провалено]")
  номер_тесту := номер_тесту + 1
кінець

друк("Тести на відповідність тверджень.")

;; використовуємо правильно
тв(16, т.довжина())
тв("П", т.символ(0))
тв("!", т[15])
тв(1090, т.код_символу(5))
тв(7, т.позиція("від"))
тв("Привіт від Лесі!Привіт від Лесі!", т.повторити(2))

т_плюс_т = т + т
знайти = " від Лесі"
замінити_на = ", Світе"

тв("Привіт, Світе!Привіт від Лесі!", т_плюс_т.замінити_перше(знайти, замінити_на))
тв("Привіт, Світе!Привіт, Світе!", т_плюс_т.замінити(знайти, замінити_на))
тв("Привіт", т.зрізати(0, 6))
тв("Привіт від Лесі!Привіт від Лесі!Привіт від Лесі!", т.приєднати(т, т))
тв(текст(["Привіт", "від", "Лесі!"]), текст(т.розділити(" ")))
тв(так, т.починається_з("Привіт "))
тв(ні, т.закінчується_на("Лесі"))

ф = "     " + т + "\n\n\r"
ф = ф.обрізати()
тв(т, ф)

якщо т містить "Привіт"
  р := так
інакше
  р := ні
кінець
тв(так, р)

якщо т не містить "0123"
  р := ні
інакше
  р := так
кінець
тв(ні, р)

номер_тесту = 1

друк("Тести ʼза призначеннямʼ")

;; використовуємо "за призначенням"
іт(дія()
  т.символ()
кінець)

іт(дія()
  т.символ(пусто)
кінець)

іт(дія()
  т.символ(-222)
кінець)

іт(дія()
  т.символ([["Якісь", "дурниці", ":)"], 21])
кінець)

іт(дія()
  т[пусто]
кінець)

іт(дія()
  т[-т.довжина()]
кінець)

іт(дія()
  т.код_символу(пусто)
кінець)

іт(дія()
  т.код_символу()
кінець)

іт(дія()
  т.код_символу(-222)
кінець)

іт(дія()
  т.код_символу([["Якісь", "дурниці", ":)"], 21])
кінець)

іт(дія()
  т.позиція(пусто)
кінець)

іт(дія()
  т.позиція()
кінець)

іт(дія()
  т.повторити()
кінець)

іт(дія()
  т.повторити(пусто)
кінець)

іт(дія()
  т.повторити(-3123131321)
кінець)

іт(дія()
  т.повторити("Привіт від Лесі!")
кінець)

іт(дія()
  т.замінити_перше(пусто)
кінець)

іт(дія()
  т.замінити_перше()
кінець)

іт(дія()
  т.замінити_перше(пусто, "")
кінець)

іт(дія()
  т.замінити_перше(пусто, [[[[1, 2, 3]]]])
кінець)

іт(дія()
  т.замінити_перше(пусто, пусто)
кінець)

іт(дія()
  т.замінити_перше([[[[1, 2, 3]]]], пусто)
кінець)

іт(дія()
  т.замінити(пусто)
кінець)

іт(дія()
  т.замінити()
кінець)

іт(дія()
  т.замінити(пусто, "")
кінець)

іт(дія()
  т.замінити(пусто, [[[[1, 2, 3]]]])
кінець)

іт(дія()
  т.замінити(пусто, пусто)
кінець)

іт(дія()
  т.замінити([[[[1, 2, 3]]]], пусто)
кінець)

іт(дія()
  т.зрізати()
кінець)

іт(дія()
  т.зрізати(-10, 0)
кінець)

іт(дія()
  т.зрізати(100, 0)
кінець)

іт(дія()
  т.зрізати(пусто)
кінець)

іт(дія()
  т.зрізати(пусто, "ааа")
кінець)

іт(дія()
  т.зрізати(пусто, 1)
кінець)

іт(дія()
  т.розділити()
кінець)

іт(дія()
  т.починається_з()
кінець)

іт(дія()
  т.закінчується_на()
кінець)
